(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[156],{4961:(e,t,r)=>{Promise.resolve().then(r.bind(r,9175)),Promise.resolve().then(r.t.bind(r,6874,23)),Promise.resolve().then(r.t.bind(r,3063,23))},9175:(e,t,r)=>{"use strict";r.d(t,{default:()=>o});var s=r(5155),l=r(2115),a=r(6874),n=r.n(a);function o(){let[e,t]=(0,l.useState)(""),[r,a]=(0,l.useState)([]),[o,i]=(0,l.useState)(!1),[c,u]=(0,l.useState)(null),[d,h]=(0,l.useState)(!1),g=(0,l.useRef)(null),m=(0,l.useRef)(null),b=(0,l.useRef)(null);async function x(e){g.current&&g.current.abort();let t=new AbortController;g.current=t,i(!0),u(null);try{let r=new URLSearchParams({q:e}),s=await fetch("".concat("https://admin.hrpostingpartner.com/api/blogs/search","?").concat(r.toString()),{signal:t.signal});if(!s.ok)throw Error("Failed to fetch search results");let l=await s.json(),n=Array.isArray(null==l?void 0:l.data)?l.data:[];a(n),h(!0)}catch(e){if("AbortError"===e.name)return;console.error("Blog search error:",e),u("Unable to load search results. Please try again."),a([]),h(!0)}finally{i(!1)}}return(0,l.useEffect)(()=>{function e(e){b.current&&!b.current.contains(e.target)&&h(!1)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[]),(0,l.useEffect)(()=>{if(m.current&&clearTimeout(m.current),e.trim().length<2){a([]),h(!1),i(!1),u(null);return}return m.current=setTimeout(()=>{x(e.trim())},350),()=>{m.current&&clearTimeout(m.current)}},[e]),(0,s.jsxs)("div",{ref:b,className:"relative w-full",children:[(0,s.jsx)("label",{htmlFor:"blog-search",className:"sr-only",children:"Search blogs"}),(0,s.jsx)("input",{id:"blog-search",type:"search",value:e,onChange:function(e){t(e.target.value)},onFocus:function(){(r.length>0||c)&&h(!0)},placeholder:"Search blogs by title, keyword, or topic...",className:"w-full rounded-full border border-gray-200 bg-white px-5 py-3 text-sm text-gray-800 shadow-sm transition focus:border-blue-400 focus:outline-none focus:ring-2 focus:ring-blue-100",autoComplete:"off"}),o&&(0,s.jsx)("div",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-xs text-blue-500",children:"Searching…"}),d&&(0,s.jsxs)("div",{className:"absolute z-50 mt-2 w-full overflow-hidden rounded-2xl border border-gray-200 bg-white shadow-lg",children:[(0,s.jsx)("div",{className:"max-h-80 overflow-y-auto",children:c?(0,s.jsx)("p",{className:"px-5 py-4 text-sm text-red-500",children:c}):0!==r.length||o?(0,s.jsx)("ul",{className:"divide-y divide-gray-100",children:r.map(e=>(0,s.jsx)("li",{children:(0,s.jsxs)(n(),{href:"/blogs/".concat(e.slug),className:"flex flex-col px-5 py-3 text-sm text-gray-800 transition hover:bg-blue-50",onClick:()=>h(!1),children:[(0,s.jsx)("span",{className:"font-medium text-blue-700",children:e.title}),(e.published_at_readable||e.published_at)&&(0,s.jsx)("span",{className:"mt-0.5 text-xs text-gray-500",children:e.published_at_readable||e.published_at})]})},e.id))}):(0,s.jsxs)("p",{className:"px-5 py-4 text-sm text-gray-500",children:["No blogs found for “",e,"”."]})}),(0,s.jsxs)("div",{className:"border-t border-gray-100 bg-gray-50 px-5 py-2 text-right text-xs text-gray-400",children:["Showing ",r.length," result",1===r.length?"":"s"]})]})]})}}},e=>{var t=t=>e(e.s=t);e.O(0,[63,874,441,684,358],()=>t(4961)),_N_E=e.O()}]);